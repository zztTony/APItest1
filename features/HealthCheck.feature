@健康核验
Feature: 健康核验

  Scenario Outline:
    Given 用例编号<caseID>，用例描述<description>
    Then api账号<api_kv>, 健康核验请求参数<parameter>和预期结果<expected>

    Examples: 健康核验正常用例
      | caseID  | description      | api_kv                                                                            | parameter                                                                                                                                                                                                          | expected                                                    |
      | 健康核验001 | 用身份信息(低风险)进行健康核验 | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "51340xxx240630", "name": "李xx璇", "codeContent": "", "cardExtension": ""}                                                         | {"code": 200, "msg": "健康核验成功", "riskAssessmentGrade": "00"} |
      | 健康核验002 | 用身份信息(中风险)进行健康核验 | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "5116021xxx9X", "name": "侯xx勇", "codeContent": "", "cardExtension": ""}                                                         | {"code": 200, "msg": "健康核验成功", "riskAssessmentGrade": "01"} |
      | 健康核验003 | 用身份信息(高风险)进行健康核验 | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "5110281xxxx4", "name": "张xx桃", "codeContent": "", "cardExtension": ""}                                                         | {"code": 200, "msg": "健康核验成功", "riskAssessmentGrade": "10"} |
      | 健康核验004 | 扫码(绿)核验          | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "", "certificateId": "", "name": "", "codeContent": {"certificate_type": "10", "certificate_id": "5134011xxx30", "name": "李俊璇"}, "cardExtension": ""} | {"code": 200, "msg": "健康核验成功", "riskAssessmentGrade": "00"} |
      | 健康核验005 | 扫码(黄)核验          | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "", "certificateId": "", "name": "", "codeContent": {"certificate_type": "10", "certificate_id": "51160xxx19629X", "name": "侯义勇"}, "cardExtension": ""} | {"code": 200, "msg": "健康核验成功", "riskAssessmentGrade": "01"} |
      | 健康核验006 | 扫码(红)核验          | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "", "certificateId": "", "name": "", "codeContent": {"certificate_type": "10", "certificate_id": "511028xxxxx03088514", "name": "张正桃"}, "cardExtension": ""} | {"code": 200, "msg": "健康核验成功", "riskAssessmentGrade": "10"} |

    Examples: 健康核验异常用例
      | caseID  | description     | api_kv                                                                            | parameter                                                                                                                                                                                                                                                                                                 | expected                             |
      | 健康核验007 | 用未激活设备进行健康核验    | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa04a00", "certificateType": "10", "certificateId": "513xxxx0630", "name": "李xx璇", "codeContent": "", "cardExtension": ""}                                                                                                                                                | {"code": 10001, "msg": "设备未激活"}      |
      | 健康核验008 | 健康核验异常：未获取到身份信息 | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "", "name": "李xx璇", "codeContent": "", "cardExtension": ""}                                                                                                                                                                  | {"code": 10002, "msg": "未获取到身份信息"}   |
      | 健康核验009 | 健康核验异常：身份信息有误   | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "5134xxxx4063", "name": "李xx璇", "codeContent": "", "cardExtension": ""}                                                                                                                                                 | {"code": 10003, "msg": "身份信息有误"}     |
      | 健康核验010 | 健康核验异常：未健康申报    | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "452xxx170013", "name": "邱xxx", "codeContent": "", "cardExtension": ""}                                                                                                                                                 | {"code": 10004, "msg": "请按要求进行健康申报"} |
      | 健康核验011 | 健康核验异常：健康码已过期   | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "", "certificateId": "", "name": "", "codeContent": "SCQRJKMC1000000101010000A001/ZcX2BLJRC9QQSFV/jXIEvQsDLofRWt+EWOU2pkZE9KsC1TCBPdMJ3Qv9E8ltEra16414610946E41367AD549F36C300F46D33597552FFD97F715FE3E558D0182B7422FA49D70", "cardExtension": ""} | {"code": 10006, "msg": "健康码已过期"}     |
      | 健康核验012 | 健康核验异常：二维码错误    | {"api_key": "ugp1zdjvhfsht16a", "api_secret": "0eb9trdq29yj8q7ruc0nrokm4obstd7s"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "", "certificateId": "", "name": "", "codeContent": "SCQRJKMC1000000101010000A001/ZcX2BLJRC9QQSFV/jXIEvQsDLofRWt+EWOU2pkZE9KsC1TCBPdMJ3Qv9E8ltEra16414610946E41367AD549F36C300F46D33597552FFD97F715FE3E558D0182B7422FA49D7", "cardExtension": ""}  | {"code": 10008, "msg": "二维码错误"}      |

    Examples: 健康核验数据分离
      | caseID  | description        | api_kv                                                                            | parameter                                                                                                                                                  | expected                        |
      | 健康核验013 | 用同空间异api账号进行健康核验   | {"api_key": "98h35f4e50xoe6m4", "api_secret": "k30oyz58fb7j0sfx4iaqa8n0s3vmiivj"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "513xxxxx19xxxxxxx0630", "name": "李俊璇", "codeContent": "", "cardExtension": ""} | {"code": 200, "msg": "健康核验成功"}  |
      | 健康核验014 | 用同租户异空间api账号进行健康核验 | {"api_key": "150qw761lcolwssc", "api_secret": "b9vrjzvg1dorejp1d4rw1ad7rr3mknx8"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "5134xxxxxx40630", "name": "李俊璇", "codeContent": "", "cardExtension": ""} | {"code": 400, "msg": "设备ID不存在"} |
      | 健康核验015 | 用异租户api账号进行健康核验    | {"api_key": "uafpktjevv9pebcl", "api_secret": "nvs1gb3lct3fxy4ji4xzarxs7zt3nwxc"} | {"deviceId": "0120100016c0aa02a00", "certificateType": "10", "certificateId": "5134xxxxxxx40630", "name": "李俊璇", "codeContent": "", "cardExtension": ""} | {"code": 400, "msg": "设备ID不存在"} |